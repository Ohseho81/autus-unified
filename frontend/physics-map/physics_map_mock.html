<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸŒŒ AUTUS Physics Map - ê¸€ë¡œë²Œ êµìœ¡ ì‚¬ì—…</title>
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: radial-gradient(ellipse at center, #0a1628 0%, #000 100%);
      overflow: hidden;
      color: #fff;
    }
    
    #canvas {
      position: absolute;
      top: 0;
      left: 0;
    }
    
    /* í—¤ë” */
    .header {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.95) 0%, transparent 100%);
      padding: 24px 32px;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }
    
    .header-left h1 {
      font-size: 24px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 12px;
      text-shadow: 0 2px 20px rgba(0, 204, 255, 0.5);
    }
    
    .header-left .subtitle {
      color: #666;
      font-size: 11px;
      margin-top: 8px;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    
    .header-right {
      display: flex;
      gap: 40px;
    }
    
    .stat { text-align: right; }
    .stat-label { color: #555; font-size: 10px; text-transform: uppercase; letter-spacing: 1px; }
    .stat-value { font-size: 24px; font-weight: 700; margin-top: 4px; }
    
    .green { color: #00ff88; text-shadow: 0 0 20px rgba(0, 255, 136, 0.7); }
    .cyan { color: #00ccff; text-shadow: 0 0 20px rgba(0, 204, 255, 0.7); }
    .gold { color: #ffcc00; text-shadow: 0 0 20px rgba(255, 204, 0, 0.7); }
    .red { color: #ff4466; text-shadow: 0 0 20px rgba(255, 68, 102, 0.7); }
    .purple { color: #9966ff; text-shadow: 0 0 20px rgba(153, 102, 255, 0.7); }
    
    /* ìˆ˜ì‹ íŒ¨ë„ */
    .formula-panel {
      position: absolute;
      top: 120px;
      right: 32px;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 16px;
      padding: 20px;
      backdrop-filter: blur(20px);
      z-index: 100;
      min-width: 240px;
    }
    
    .formula-title {
      color: #555;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 12px;
    }
    
    .formula-main {
      color: #00ccff;
      font-family: 'Courier New', monospace;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 0 0 30px rgba(0, 204, 255, 0.8);
      margin-bottom: 16px;
    }
    
    .formula-desc {
      color: #666;
      font-size: 11px;
      line-height: 1.8;
    }
    
    .formula-desc strong { color: #888; }
    
    /* ë…¸ë“œ ì •ë³´ íŒ¨ë„ */
    .info-panel {
      position: absolute;
      top: 120px;
      left: 32px;
      background: rgba(0, 0, 0, 0.95);
      border: 1px solid rgba(0, 255, 136, 0.3);
      border-radius: 16px;
      padding: 24px;
      backdrop-filter: blur(20px);
      z-index: 100;
      min-width: 320px;
      display: none;
    }
    
    .info-panel.visible { display: block; }
    
    .info-header {
      display: flex;
      align-items: center;
      gap: 16px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 16px;
    }
    
    .info-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      box-shadow: 0 0 30px currentColor;
    }
    
    .info-name { font-weight: bold; font-size: 20px; }
    .info-type { color: #888; font-size: 12px; margin-top: 4px; }
    .info-location { color: #00ccff; font-size: 11px; margin-top: 4px; }
    
    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 13px;
    }
    
    .info-row-label { color: #666; }
    .info-row-value { font-weight: bold; }
    
    .info-desc {
      margin-top: 16px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      font-size: 12px;
      color: #888;
      line-height: 1.6;
    }
    
    .info-status {
      margin-top: 16px;
      padding: 12px;
      border-radius: 10px;
      text-align: center;
      font-size: 12px;
      font-weight: bold;
    }
    
    .status-optimal { background: rgba(0, 255, 136, 0.15); border: 1px solid rgba(0, 255, 136, 0.4); color: #00ff88; }
    .status-warning { background: rgba(255, 204, 0, 0.15); border: 1px solid rgba(255, 204, 0, 0.4); color: #ffcc00; }
    .status-bottleneck { background: rgba(255, 68, 102, 0.15); border: 1px solid rgba(255, 68, 102, 0.4); color: #ff4466; animation: pulse 1.5s infinite; }
    .status-prediction { background: rgba(255, 204, 0, 0.1); border: 1px solid rgba(255, 204, 0, 0.3); color: #ffcc00; }
    
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
    
    /* ë³‘ëª© íŒ¨ë„ */
    .bottleneck-panel {
      position: absolute;
      bottom: 120px;
      left: 32px;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid rgba(255, 68, 102, 0.4);
      border-radius: 16px;
      padding: 20px;
      z-index: 100;
      min-width: 320px;
    }
    
    .bottleneck-title {
      color: #ff4466;
      font-size: 13px;
      font-weight: bold;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .bottleneck-item {
      background: rgba(255, 68, 102, 0.1);
      border: 1px solid rgba(255, 68, 102, 0.3);
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
    }
    
    .bottleneck-item .name { color: #fff; font-weight: bold; font-size: 13px; }
    .bottleneck-item .issue { color: #ff4466; font-size: 11px; margin-top: 4px; }
    .bottleneck-item .action { color: #ffcc00; font-size: 10px; margin-top: 8px; }
    
    /* ê¸°íšŒ íŒ¨ë„ */
    .opportunity-panel {
      position: absolute;
      bottom: 120px;
      right: 32px;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid rgba(255, 204, 0, 0.4);
      border-radius: 16px;
      padding: 20px;
      z-index: 100;
      min-width: 280px;
    }
    
    .opportunity-title {
      color: #ffcc00;
      font-size: 13px;
      font-weight: bold;
      margin-bottom: 14px;
    }
    
    .opportunity-item {
      background: rgba(255, 204, 0, 0.1);
      border: 1px solid rgba(255, 204, 0, 0.3);
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
    }
    
    .opportunity-item .name { color: #fff; font-weight: bold; font-size: 13px; }
    .opportunity-item .value { color: #ffcc00; font-size: 14px; font-weight: bold; margin-top: 4px; }
    .opportunity-item .timeline { color: #888; font-size: 10px; margin-top: 4px; }
    
    /* ë²”ë¡€ */
    .legend-panel {
      position: absolute;
      top: 350px;
      right: 32px;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      padding: 16px;
      z-index: 100;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
      font-size: 11px;
      color: #888;
    }
    
    .legend-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .legend-line {
      width: 30px;
      height: 3px;
      border-radius: 2px;
    }
    
    /* ì»¨íŠ¸ë¡¤ */
    .controls {
      position: absolute;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 100;
    }
    
    .control-btn {
      padding: 12px 24px;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(0, 204, 255, 0.4);
      border-radius: 25px;
      color: #fff;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .control-btn:hover {
      background: rgba(0, 204, 255, 0.2);
      border-color: #00ccff;
      transform: translateY(-2px);
    }
    
    .control-btn.active {
      background: rgba(0, 255, 136, 0.2);
      border-color: #00ff88;
    }
    
    /* í‘¸í„° */
    .footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(0deg, rgba(0, 0, 0, 0.9) 0%, transparent 100%);
      padding: 20px 32px;
      display: flex;
      justify-content: space-between;
      font-size: 10px;
      color: #444;
      z-index: 50;
    }
    
    /* ë¯¸ë‹ˆë§µ */
    .minimap {
      position: absolute;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 10px;
      padding: 8px 16px;
      font-size: 11px;
      color: #00ccff;
      z-index: 100;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  
  <!-- í—¤ë” -->
  <div class="header">
    <div class="header-left">
      <h1>ğŸŒŒ AUTUS Physics Map</h1>
      <div class="subtitle">ê¸€ë¡œë²Œ êµìœ¡ ì‚¬ì—… â€¢ ëª¨ë“  ê°œì²´ëŠ” ì‚¬ëŒ â€¢ í”¼ì‹œìŠ¤ í•´ë‹µì€ ëˆ</div>
    </div>
    <div class="header-right">
      <div class="stat">
        <div class="stat-label">Total Value</div>
        <div class="stat-value green" id="stat-value">â‚©7.09ì–µ</div>
      </div>
      <div class="stat">
        <div class="stat-label">Net Cashflow</div>
        <div class="stat-value cyan" id="stat-cashflow">â‚©4.23ì–µ</div>
      </div>
      <div class="stat">
        <div class="stat-label">Synergy</div>
        <div class="stat-value purple" id="stat-synergy">â‚©2.86ì–µ</div>
      </div>
      <div class="stat">
        <div class="stat-label">12M Forecast</div>
        <div class="stat-value gold" id="stat-forecast">â‚©23ì–µ</div>
      </div>
    </div>
  </div>
  
  <!-- ìˆ˜ì‹ íŒ¨ë„ -->
  <div class="formula-panel">
    <div class="formula-title">Physics Formula</div>
    <div class="formula-main">V = D - T + S</div>
    <div class="formula-desc">
      <strong>D</strong>: Direct (Inflow - Outflow)<br>
      <strong>T</strong>: Time = Hours Ã— Hourly Value<br>
      <strong>S</strong>: Synergy = k(Nâ‚Ã—Nâ‚‚)/dÂ²<br>
      <strong>F</strong>: Forecast = V Ã— (1+g)^t
    </div>
  </div>
  
  <!-- ë…¸ë“œ ì •ë³´ íŒ¨ë„ -->
  <div class="info-panel" id="info-panel">
    <div class="info-header">
      <div class="info-icon" id="info-icon">ğŸ‘‘</div>
      <div>
        <div class="info-name" id="info-name">ê¹€ì„¸í˜¸</div>
        <div class="info-type" id="info-type">SOVEREIGN â€¢ ëŒ€í‘œ</div>
        <div class="info-location" id="info-location">ğŸ“ ì„œìš¸ ê°•ë‚¨êµ¬</div>
      </div>
    </div>
    <div class="info-row">
      <span class="info-row-label">Inflow (ìœ ì…)</span>
      <span class="info-row-value cyan" id="info-inflow">â‚©4.5ì–µ</span>
    </div>
    <div class="info-row">
      <span class="info-row-label">Outflow (ìœ ì¶œ)</span>
      <span class="info-row-value red" id="info-outflow">â‚©1.8ì–µ</span>
    </div>
    <div class="info-row">
      <span class="info-row-label">Time Cost</span>
      <span class="info-row-value" style="color: #ff6666" id="info-time">-â‚©5,600ë§Œ</span>
    </div>
    <div class="info-row">
      <span class="info-row-label">Synergy</span>
      <span class="info-row-value purple" id="info-synergy">+â‚©8,500ë§Œ</span>
    </div>
    <div class="info-row">
      <span class="info-row-label">Total Value</span>
      <span class="info-row-value green" id="info-value">â‚©2.99ì–µ</span>
    </div>
    <div class="info-desc" id="info-desc">
      ì „ì²´ ì‚¬ì—… ì´ê´„, ì „ëµ ìˆ˜ë¦½, íˆ¬ì ìœ ì¹˜
    </div>
    <div class="info-status status-optimal" id="info-status">
      âœ… OPTIMAL
    </div>
  </div>
  
  <!-- ë³‘ëª© íŒ¨ë„ -->
  <div class="bottleneck-panel">
    <div class="bottleneck-title">âš ï¸ ëˆ ë³‘ëª© ê°ì§€ (2ê±´)</div>
    <div class="bottleneck-item">
      <div class="name">ğŸ‡ºğŸ‡¸ ë‰´ìš• ì—ì´ì „ì‹œ</div>
      <div class="issue">ìœ ì¶œ â‚©4,500ë§Œ > ìœ ì… â‚©3,000ë§Œ (ROI -33%)</div>
      <div class="action">ğŸ’¡ ê³„ì•½ ì¬í˜‘ìƒ ë˜ëŠ” ëŒ€ì²´ ì—ì´ì „ì‹œ ê²€í† </div>
    </div>
    <div class="bottleneck-item">
      <div class="name">ğŸ‡¦ğŸ‡º í˜¸ì£¼ ê³µê¸‰ì‚¬</div>
      <div class="issue">ìœ ì¶œ â‚©2,400ë§Œ, ì‹œë„ˆì§€ -â‚©200ë§Œ</div>
      <div class="action">ğŸ’¡ êµ­ë‚´ ê³µê¸‰ì„  ëŒ€ì²´ ë˜ëŠ” ê°€ê²© í˜‘ìƒ</div>
    </div>
  </div>
  
  <!-- ê¸°íšŒ íŒ¨ë„ -->
  <div class="opportunity-panel">
    <div class="opportunity-title">â­ ì„±ì¥ ê¸°íšŒ (3ê±´)</div>
    <div class="opportunity-item">
      <div class="name">ğŸ‡¦ğŸ‡ª ë‘ë°”ì´ ìŠ¤í°ì„œ</div>
      <div class="value">â‚©5ì–µ ì˜ˆìƒ</div>
      <div class="timeline">ğŸ“… 2025 Q2</div>
    </div>
    <div class="opportunity-item">
      <div class="name">ğŸ‡¬ğŸ‡§ ëŸ°ë˜ í™•ì¥</div>
      <div class="value">â‚©3ì–µ ì˜ˆìƒ</div>
      <div class="timeline">ğŸ“… 2025 Q3</div>
    </div>
    <div class="opportunity-item">
      <div class="name">ğŸ‡¨ğŸ‡³ ë² ì´ì§• JV</div>
      <div class="value">â‚©8ì–µ ì˜ˆìƒ</div>
      <div class="timeline">ğŸ“… 2025 Q4</div>
    </div>
  </div>
  
  <!-- ë²”ë¡€ -->
  <div class="legend-panel">
    <div class="formula-title" style="margin-bottom: 12px;">Legend</div>
    <div class="legend-item">
      <div class="legend-dot" style="background: #00ff88;"></div>
      <span>ì£¼ê¶Œì/í•µì‹¬ ì¸ë¬¼</span>
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background: #00ccff;"></div>
      <span>íŒ€/íŒŒíŠ¸ë„ˆ</span>
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background: #ffcc00;"></div>
      <span>ê³ ê°/ì˜ˆì¸¡</span>
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background: #ff6600;"></div>
      <span>ìŠ¤í°ì„œ/íˆ¬ìì</span>
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background: #ff4466;"></div>
      <span>ë³‘ëª©</span>
    </div>
    <div class="legend-item" style="margin-top: 12px;">
      <div class="legend-line" style="background: linear-gradient(90deg, #00ff88, #00ccff);"></div>
      <span>ëˆ ìœ ì…</span>
    </div>
    <div class="legend-item">
      <div class="legend-line" style="background: linear-gradient(90deg, #ff4466, #ff6600);"></div>
      <span>ëˆ ìœ ì¶œ</span>
    </div>
    <div class="legend-item">
      <div class="legend-line" style="background: linear-gradient(90deg, #9966ff, #00ccff);"></div>
      <span>ì‹œë„ˆì§€</span>
    </div>
  </div>
  
  <!-- ë¯¸ë‹ˆë§µ -->
  <div class="minimap" id="minimap">
    ğŸŒ 18ëª… â€¢ 25ê°œ ì—°ê²° â€¢ 7ê°œêµ­
  </div>
  
  <!-- ì»¨íŠ¸ë¡¤ -->
  <div class="controls">
    <button class="control-btn" id="btn-korea">ğŸ‡°ğŸ‡· í•œêµ­</button>
    <button class="control-btn" id="btn-asia">ğŸŒ ì•„ì‹œì•„</button>
    <button class="control-btn" id="btn-world">ğŸŒ ì„¸ê³„</button>
    <button class="control-btn active" id="btn-animate">âœ¨ ë³„ë˜¥ë³„</button>
    <button class="control-btn active" id="btn-bottleneck">âš ï¸ ë³‘ëª©</button>
  </div>
  
  <!-- í‘¸í„° -->
  <div class="footer">
    <span>ğŸ–±ï¸ ë“œë˜ê·¸: ì´ë™ | ìŠ¤í¬ë¡¤: ì¤Œ | ë…¸ë“œ í´ë¦­: ìƒì„¸ ì •ë³´</span>
    <span>AUTUS Physics Map v3.0 â€¢ ê°€ìƒ ë°ì´í„° (ê¸€ë¡œë²Œ êµìœ¡ ì‚¬ì—… ì‹œë‚˜ë¦¬ì˜¤)</span>
  </div>
  
  <script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ê°€ìƒ ë°ì´í„° (ê¸€ë¡œë²Œ êµìœ¡ ì‚¬ì—… ì‹œë‚˜ë¦¬ì˜¤)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const nodes = [
      // ì£¼ê¶Œì
      { id: 'P01', name: 'ê¹€ì„¸í˜¸', label: 'ëŒ€í‘œ', role: 'SOVEREIGN', 
        lat: 37.5085, lon: 127.0634, location: 'ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ',
        inflow: 450000000, outflow: 180000000, timeHours: 280, hourlyValue: 200000,
        synergy: 85000000, growthRate: 0.15, status: 'optimal', icon: 'ğŸ‘‘', color: '#00ff88',
        description: 'ì „ì²´ ì‚¬ì—… ì´ê´„, ì „ëµ ìˆ˜ë¦½, íˆ¬ì ìœ ì¹˜' },
      
      // ë‚´ë¶€ íŒ€
      { id: 'P02', name: 'ì´ì •ë¯¼', label: 'ìš´ì˜ë§¤ë‹ˆì €', role: 'OPERATOR',
        lat: 37.4979, lon: 127.0276, location: 'ì„œìš¸ ì„œì´ˆêµ¬',
        inflow: 85000000, outflow: 25000000, timeHours: 200, hourlyValue: 80000,
        synergy: 12000000, growthRate: 0.10, status: 'optimal', icon: 'ğŸ‘¤', color: '#00ccff',
        description: 'ì¼ì¼ ìš´ì˜, ìŠ¤ì¼€ì¤„ ê´€ë¦¬, ê³ ê° ì‘ëŒ€' },
      
      { id: 'P03', name: 'ë°•ì¤€ì˜', label: 'í—¤ë“œì½”ì¹˜', role: 'EXECUTOR',
        lat: 37.5172, lon: 127.0473, location: 'ì„œìš¸ ì„±ë™êµ¬',
        inflow: 72000000, outflow: 18000000, timeHours: 220, hourlyValue: 70000,
        synergy: 15000000, growthRate: 0.12, status: 'optimal', icon: 'ğŸ‘¤', color: '#00ccff',
        description: 'êµìœ¡ í”„ë¡œê·¸ë¨ ê°œë°œ, ì½”ì¹˜ ê´€ë¦¬' },
      
      { id: 'P04', name: 'ìµœìˆ˜ì§„', label: 'ë§ˆì¼€íŒ…', role: 'GROWTH',
        lat: 37.5662, lon: 126.9779, location: 'ì„œìš¸ ì¢…ë¡œêµ¬',
        inflow: 45000000, outflow: 35000000, timeHours: 180, hourlyValue: 60000,
        synergy: 25000000, growthRate: 0.20, status: 'warning', icon: 'ğŸ“¢', color: '#ff6600',
        description: 'ë§ˆì¼€íŒ… ì „ëµ, SNS ìš´ì˜, ê´‘ê³  ì§‘í–‰' },
      
      { id: 'P05', name: 'ì½”ì¹˜A', label: 'ì½”ì¹˜', role: 'EXECUTOR',
        lat: 37.5045, lon: 127.0498, location: 'ì„œìš¸ ì‚¼ì„±ë™',
        inflow: 48000000, outflow: 8000000, timeHours: 160, hourlyValue: 50000,
        synergy: 8000000, growthRate: 0.08, status: 'optimal', icon: 'ğŸ‘¤', color: '#00ccff',
        description: '1:1 ì½”ì¹­, ê·¸ë£¹ ìˆ˜ì—…' },
      
      { id: 'P06', name: 'ì½”ì¹˜B', label: 'ì½”ì¹˜', role: 'EXECUTOR',
        lat: 37.5112, lon: 127.0590, location: 'ì„œìš¸ ì²­ë‹´ë™',
        inflow: 48000000, outflow: 8000000, timeHours: 160, hourlyValue: 50000,
        synergy: 8000000, growthRate: 0.08, status: 'optimal', icon: 'ğŸ‘¤', color: '#00ccff',
        description: '1:1 ì½”ì¹­, ê·¸ë£¹ ìˆ˜ì—…' },
      
      { id: 'P07', name: 'ì½”ì¹˜C', label: 'ì½”ì¹˜', role: 'EXECUTOR',
        lat: 37.5140, lon: 127.0565, location: 'ì„œìš¸ ì—­ì‚¼ë™',
        inflow: 42000000, outflow: 12000000, timeHours: 140, hourlyValue: 50000,
        synergy: 5000000, growthRate: 0.05, status: 'warning', icon: 'ğŸ‘¤', color: '#ffcc00',
        description: 'ì‹ ê·œ ì½”ì¹˜, ì„±ì¥ ì¤‘' },
      
      // ê³ ê°êµ°
      { id: 'C01', name: 'VIP í•™ìƒêµ°', label: 'VIP ê³ ê°', role: 'CUSTOMER', count: 25,
        lat: 37.5200, lon: 127.0400, location: 'ì„œìš¸ ê°•ë‚¨ê¶Œ',
        inflow: 0, outflow: 250000000, timeHours: 0, hourlyValue: 0,
        synergy: 30000000, growthRate: 0.15, status: 'optimal', icon: 'ğŸ‘¥', color: '#ffcc00',
        description: 'ì›” 100ë§Œì›+ í”„ë¦¬ë¯¸ì—„ ê³ ê° 25ëª…' },
      
      { id: 'C02', name: 'ì¼ë°˜ í•™ìƒêµ°', label: 'ì¼ë°˜ ê³ ê°', role: 'CUSTOMER', count: 80,
        lat: 37.4900, lon: 127.0300, location: 'ì„œìš¸ ì„œì´ˆ/ì†¡íŒŒ',
        inflow: 0, outflow: 160000000, timeHours: 0, hourlyValue: 0,
        synergy: 15000000, growthRate: 0.10, status: 'optimal', icon: 'ğŸ‘¥', color: '#00ccff',
        description: 'ì›” 20-50ë§Œì› ê³ ê° 80ëª…' },
      
      { id: 'C03', name: 'í•™ë¶€ëª¨íšŒ', label: 'í•™ë¶€ëª¨', role: 'SPONSOR', count: 105,
        lat: 37.5300, lon: 127.0200, location: 'ì„œìš¸ ê°•ë‚¨/ì„œì´ˆ',
        inflow: 410000000, outflow: 0, timeHours: 0, hourlyValue: 0,
        synergy: 20000000, growthRate: 0.12, status: 'optimal', icon: 'ğŸ’°', color: '#ff6600',
        description: 'í•™ë¹„ ë‚©ë¶€ ì£¼ì²´ (ì‹¤ì œ ê²°ì œì)' },
      
      // ìì‚°
      { id: 'B01', name: 'ê°•ë‚¨ ë³¸ì›', label: 'ë³¸ì›', role: 'ASSET',
        lat: 37.5085, lon: 127.0634, location: 'ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123',
        inflow: 0, outflow: 36000000, timeHours: 0, hourlyValue: 0,
        synergy: 50000000, growthRate: 0.05, status: 'optimal', icon: 'ğŸ¢', color: '#9966ff',
        description: 'ì›”ì„¸ 300ë§Œì›, ë©”ì¸ êµìœ¡ ê³µê°„' },
      
      // í•´ì™¸ íŒŒíŠ¸ë„ˆ
      { id: 'X01', name: 'ë„ì¿„ íŒŒíŠ¸ë„ˆ', label: 'ì¼ë³¸', role: 'PARTNER',
        lat: 35.6762, lon: 139.6503, location: 'Tokyo, Japan',
        inflow: 80000000, outflow: 20000000, timeHours: 40, hourlyValue: 150000,
        synergy: 35000000, growthRate: 0.18, status: 'optimal', icon: 'ğŸ‡¯ğŸ‡µ', color: '#00ccff',
        description: 'ì¼ë³¸ ì‹œì¥ ì§„ì¶œ íŒŒíŠ¸ë„ˆ, ë¡œì—´í‹° ìˆ˜ì…' },
      
      { id: 'X02', name: 'ì‹±ê°€í¬ë¥´ íˆ¬ìì', label: 'ì‹±ê°€í¬ë¥´', role: 'INVESTOR',
        lat: 1.3521, lon: 103.8198, location: 'Singapore',
        inflow: 200000000, outflow: 0, timeHours: 20, hourlyValue: 300000,
        synergy: 50000000, growthRate: 0.25, status: 'optimal', icon: 'ğŸ‡¸ğŸ‡¬', color: '#ff6600',
        description: 'ì‹œë¦¬ì¦ˆA íˆ¬ìì, 2ì–µ íˆ¬ì' },
      
      { id: 'X03', name: 'ë‰´ìš• ì—ì´ì „ì‹œ', label: 'ë¯¸êµ­', role: 'PARTNER',
        lat: 40.7128, lon: -74.0060, location: 'New York, USA',
        inflow: 30000000, outflow: 45000000, timeHours: 60, hourlyValue: 200000,
        synergy: -5000000, growthRate: 0.05, status: 'bottleneck', icon: 'ğŸ‡ºğŸ‡¸', color: '#ff4466',
        description: 'ë¯¸êµ­ ë§ˆì¼€íŒ… ì—ì´ì „ì‹œ, ROI ë¶€ì¡±' },
      
      { id: 'X04', name: 'í˜¸ì£¼ ê³µê¸‰ì‚¬', label: 'í˜¸ì£¼', role: 'SUPPLIER',
        lat: -33.8688, lon: 151.2093, location: 'Sydney, Australia',
        inflow: 0, outflow: 24000000, timeHours: 30, hourlyValue: 100000,
        synergy: -2000000, growthRate: 0.02, status: 'bottleneck', icon: 'ğŸ‡¦ğŸ‡º', color: '#ff4466',
        description: 'êµì¬/ì¥ë¹„ ê³µê¸‰, ë¹„ìš© ê³¼ë‹¤' },
      
      // ì˜ˆì¸¡ (ë¯¸ë˜)
      { id: 'F01', name: 'ë‘ë°”ì´ ìŠ¤í°ì„œ', label: 'ë‘ë°”ì´', role: 'FUTURE',
        lat: 25.2048, lon: 55.2708, location: 'Dubai, UAE',
        inflow: 0, outflow: 0, timeHours: 0, hourlyValue: 0,
        synergy: 0, forecast: 500000000, growthRate: 0.30, status: 'prediction', icon: 'â­', color: '#ffcc00',
        description: '2025ë…„ Q2 í˜‘ìƒ ì¤‘, 5ì–µ ìŠ¤í°ì„œì‹­ ì˜ˆìƒ' },
      
      { id: 'F02', name: 'ëŸ°ë˜ í™•ì¥', label: 'ëŸ°ë˜', role: 'FUTURE',
        lat: 51.5074, lon: -0.1278, location: 'London, UK',
        inflow: 0, outflow: 0, timeHours: 0, hourlyValue: 0,
        synergy: 0, forecast: 300000000, growthRate: 0.20, status: 'prediction', icon: 'â­', color: '#ffcc00',
        description: '2025ë…„ Q3 ëŸ°ë˜ ì§€ì‚¬ ì˜¤í”ˆ ê³„íš' },
      
      { id: 'F03', name: 'ë² ì´ì§• JV', label: 'ë² ì´ì§•', role: 'FUTURE',
        lat: 39.9042, lon: 116.4074, location: 'Beijing, China',
        inflow: 0, outflow: 0, timeHours: 0, hourlyValue: 0,
        synergy: 0, forecast: 800000000, growthRate: 0.35, status: 'prediction', icon: 'â­', color: '#ffcc00',
        description: '2025ë…„ Q4 í•©ì‘ë²•ì¸ ì„¤ë¦½ ì˜ˆì •' }
    ];
    
    const flows = [
      // í•™ë¹„ ìˆ˜ì…
      { from: 'C03', to: 'P01', value: 410000000, type: 'inflow' },
      
      // ê¸‰ì—¬ ì§€ê¸‰
      { from: 'P01', to: 'P02', value: 60000000, type: 'inflow' },
      { from: 'P01', to: 'P03', value: 54000000, type: 'inflow' },
      { from: 'P01', to: 'P04', value: 36000000, type: 'inflow' },
      { from: 'P03', to: 'P05', value: 36000000, type: 'inflow' },
      { from: 'P03', to: 'P06', value: 36000000, type: 'inflow' },
      { from: 'P03', to: 'P07', value: 30000000, type: 'inflow' },
      
      // êµìœ¡ ì‹œë„ˆì§€
      { from: 'P05', to: 'C01', value: 120000000, type: 'synergy' },
      { from: 'P06', to: 'C01', value: 80000000, type: 'synergy' },
      { from: 'P07', to: 'C02', value: 60000000, type: 'synergy' },
      { from: 'C01', to: 'C03', value: 250000000, type: 'synergy' },
      { from: 'C02', to: 'C03', value: 160000000, type: 'synergy' },
      
      // ìš´ì˜ë¹„
      { from: 'P01', to: 'B01', value: 36000000, type: 'outflow' },
      
      // í•´ì™¸
      { from: 'X01', to: 'P01', value: 80000000, type: 'inflow' },
      { from: 'X02', to: 'P01', value: 200000000, type: 'inflow' },
      { from: 'P01', to: 'X03', value: 45000000, type: 'outflow' },
      { from: 'X03', to: 'P01', value: 30000000, type: 'inflow' },
      { from: 'P01', to: 'X04', value: 24000000, type: 'outflow' },
      
      // ë‚´ë¶€ ì‹œë„ˆì§€
      { from: 'P02', to: 'P03', value: 12000000, type: 'synergy' },
      { from: 'P04', to: 'C01', value: 25000000, type: 'synergy' },
      { from: 'P04', to: 'C02', value: 35000000, type: 'synergy' },
      
      // ì˜ˆì¸¡
      { from: 'P01', to: 'F01', value: 500000000, type: 'prediction' },
      { from: 'P01', to: 'F02', value: 300000000, type: 'prediction' },
      { from: 'X01', to: 'F03', value: 400000000, type: 'prediction' },
      { from: 'X02', to: 'F01', value: 200000000, type: 'prediction' }
    ];
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    let width, height;
    let offsetX = 0, offsetY = 0;
    let scale = 1;
    let isDragging = false;
    let dragStart = { x: 0, y: 0 };
    let isAnimating = true;
    let showBottlenecks = true;
    let particles = [];
    let screenNodes = [];
    
    function resize() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
      updateScreenPositions();
    }
    
    window.addEventListener('resize', resize);
    resize();
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ì¢Œí‘œ ë³€í™˜ (ìœ„ê²½ë„ â†’ í™”ë©´)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function lonLatToScreen(lon, lat) {
      // Mercator íˆ¬ì˜
      const x = (lon + 180) * (width / 360);
      const latRad = lat * Math.PI / 180;
      const mercN = Math.log(Math.tan((Math.PI / 4) + (latRad / 2)));
      const y = (height / 2) - (width * mercN / (2 * Math.PI));
      
      return {
        x: (x - width / 2) * scale + width / 2 + offsetX,
        y: (y - height / 2) * scale + height / 2 + offsetY
      };
    }
    
    function updateScreenPositions() {
      screenNodes = nodes.map(node => {
        const pos = lonLatToScreen(node.lon, node.lat);
        return { ...node, x: pos.x, y: pos.y };
      });
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // íŒŒí‹°í´ ì‹œìŠ¤í…œ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function initParticles() {
      particles = [];
      flows.forEach(flow => {
        const count = flow.type === 'prediction' ? 6 : 4;
        for (let i = 0; i < count; i++) {
          particles.push({
            flowFrom: flow.from,
            flowTo: flow.to,
            flowType: flow.type,
            flowValue: flow.value,
            progress: Math.random(),
            speed: 0.002 + Math.random() * 0.003,
            size: flow.type === 'prediction' ? 4 : 3,
            trail: []
          });
        }
      });
    }
    
    function updateParticles() {
      particles.forEach(p => {
        p.progress += p.speed;
        if (p.progress > 1) {
          p.progress = 0;
          p.trail = [];
        }
        
        const fromNode = screenNodes.find(n => n.id === p.flowFrom);
        const toNode = screenNodes.find(n => n.id === p.flowTo);
        if (!fromNode || !toNode) return;
        
        const midX = (fromNode.x + toNode.x) / 2;
        const midY = (fromNode.y + toNode.y) / 2 - 60 * scale;
        
        const t = p.progress;
        p.x = Math.pow(1-t, 2) * fromNode.x + 2 * (1-t) * t * midX + Math.pow(t, 2) * toNode.x;
        p.y = Math.pow(1-t, 2) * fromNode.y + 2 * (1-t) * t * midY + Math.pow(t, 2) * toNode.y;
        
        p.trail.push({ x: p.x, y: p.y });
        if (p.trail.length > 25) p.trail.shift();
      });
    }
    
    initParticles();
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ë Œë”ë§
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function render() {
      ctx.fillStyle = 'rgba(10, 22, 40, 0.3)';
      ctx.fillRect(0, 0, width, height);
      
      renderFlows();
      if (isAnimating) renderParticles();
      renderNodes();
    }
    
    function renderFlows() {
      flows.forEach(flow => {
        const fromNode = screenNodes.find(n => n.id === flow.from);
        const toNode = screenNodes.find(n => n.id === flow.to);
        if (!fromNode || !toNode) return;
        
        const midX = (fromNode.x + toNode.x) / 2;
        const midY = (fromNode.y + toNode.y) / 2 - 60 * scale;
        
        const gradient = ctx.createLinearGradient(fromNode.x, fromNode.y, toNode.x, toNode.y);
        
        if (flow.type === 'inflow') {
          gradient.addColorStop(0, 'rgba(0, 255, 136, 0.5)');
          gradient.addColorStop(1, 'rgba(0, 204, 255, 0.5)');
        } else if (flow.type === 'outflow') {
          gradient.addColorStop(0, 'rgba(255, 68, 102, 0.5)');
          gradient.addColorStop(1, 'rgba(255, 102, 0, 0.5)');
        } else if (flow.type === 'synergy') {
          gradient.addColorStop(0, 'rgba(153, 102, 255, 0.4)');
          gradient.addColorStop(1, 'rgba(0, 204, 255, 0.4)');
        } else if (flow.type === 'prediction') {
          gradient.addColorStop(0, 'rgba(255, 204, 0, 0.4)');
          gradient.addColorStop(1, 'rgba(255, 102, 0, 0.4)');
        }
        
        const flowWidth = Math.max(1, Math.sqrt(flow.value) / 3000 * scale);
        
        ctx.beginPath();
        ctx.moveTo(fromNode.x, fromNode.y);
        ctx.quadraticCurveTo(midX, midY, toNode.x, toNode.y);
        ctx.strokeStyle = gradient;
        ctx.lineWidth = flowWidth;
        
        if (flow.type === 'prediction') {
          ctx.setLineDash([8, 8]);
        } else {
          ctx.setLineDash([]);
        }
        
        ctx.stroke();
        ctx.setLineDash([]);
      });
    }
    
    function renderParticles() {
      particles.forEach(p => {
        if (!p.x || !p.y) return;
        
        let color;
        if (p.flowType === 'inflow') color = '#00ff88';
        else if (p.flowType === 'outflow') color = '#ff4466';
        else if (p.flowType === 'synergy') color = '#9966ff';
        else if (p.flowType === 'prediction') color = '#ffcc00';
        
        // íŠ¸ë ˆì¼
        if (p.trail.length > 1) {
          ctx.beginPath();
          ctx.moveTo(p.trail[0].x, p.trail[0].y);
          for (let i = 1; i < p.trail.length; i++) {
            ctx.lineTo(p.trail[i].x, p.trail[i].y);
          }
          const trailGradient = ctx.createLinearGradient(p.trail[0].x, p.trail[0].y, p.x, p.y);
          trailGradient.addColorStop(0, 'rgba(255, 255, 255, 0)');
          trailGradient.addColorStop(1, color);
          ctx.strokeStyle = trailGradient;
          ctx.lineWidth = 2;
          ctx.stroke();
        }
        
        // íŒŒí‹°í´
        const opacity = 0.5 + 0.5 * Math.sin(p.progress * Math.PI);
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size * scale, 0, Math.PI * 2);
        ctx.fillStyle = color;
        ctx.shadowColor = color;
        ctx.shadowBlur = 15;
        ctx.globalAlpha = opacity;
        ctx.fill();
        ctx.globalAlpha = 1;
        ctx.shadowBlur = 0;
      });
    }
    
    function renderNodes() {
      screenNodes.forEach(node => {
        const baseSize = node.forecast ? 
          Math.max(12, Math.sqrt(node.forecast) / 4000) :
          Math.max(12, Math.sqrt(node.inflow + node.outflow + node.synergy) / 2500);
        const size = baseSize * scale;
        
        // ê¸€ë¡œìš°
        ctx.beginPath();
        ctx.arc(node.x, node.y, size * 1.8, 0, Math.PI * 2);
        ctx.fillStyle = node.color + '15';
        ctx.fill();
        
        // ë³‘ëª© ê²½ê³  ë§
        if (node.status === 'bottleneck' && showBottlenecks) {
          ctx.beginPath();
          ctx.arc(node.x, node.y, size * 2.2, 0, Math.PI * 2);
          ctx.strokeStyle = '#ff4466';
          ctx.lineWidth = 3;
          ctx.shadowColor = '#ff4466';
          ctx.shadowBlur = 20;
          ctx.stroke();
          ctx.shadowBlur = 0;
        }
        
        // ì˜ˆì¸¡ ì ì„ 
        if (node.status === 'prediction') {
          ctx.beginPath();
          ctx.arc(node.x, node.y, size * 1.5, 0, Math.PI * 2);
          ctx.setLineDash([4, 4]);
          ctx.strokeStyle = '#ffcc00';
          ctx.lineWidth = 2;
          ctx.stroke();
          ctx.setLineDash([]);
        }
        
        // ë©”ì¸ ë…¸ë“œ
        ctx.beginPath();
        ctx.arc(node.x, node.y, size, 0, Math.PI * 2);
        ctx.fillStyle = node.color;
        ctx.shadowColor = node.color;
        ctx.shadowBlur = 12;
        ctx.fill();
        ctx.shadowBlur = 0;
        
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 2;
        ctx.stroke();
        
        // ì•„ì´ì½˜
        ctx.font = `${size * 0.9}px sans-serif`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillStyle = '#fff';
        ctx.fillText(node.icon, node.x, node.y);
        
        // ë¼ë²¨
        if (scale > 0.5) {
          ctx.font = `${11 * scale}px sans-serif`;
          ctx.fillStyle = '#fff';
          ctx.fillText(node.name, node.x, node.y + size + 14 * scale);
        }
      });
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ì• ë‹ˆë©”ì´ì…˜ ë£¨í”„
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function animate() {
      updateParticles();
      render();
      requestAnimationFrame(animate);
    }
    
    animate();
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ì´ë²¤íŠ¸
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    canvas.addEventListener('mousedown', e => {
      isDragging = true;
      dragStart = { x: e.clientX - offsetX, y: e.clientY - offsetY };
    });
    
    canvas.addEventListener('mousemove', e => {
      if (isDragging) {
        offsetX = e.clientX - dragStart.x;
        offsetY = e.clientY - dragStart.y;
        updateScreenPositions();
      }
    });
    
    canvas.addEventListener('mouseup', () => isDragging = false);
    canvas.addEventListener('mouseleave', () => isDragging = false);
    
    canvas.addEventListener('wheel', e => {
      e.preventDefault();
      const delta = e.deltaY > 0 ? 0.9 : 1.1;
      scale = Math.max(0.3, Math.min(5, scale * delta));
      updateScreenPositions();
      initParticles();
    });
    
    canvas.addEventListener('click', e => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      
      let clicked = null;
      let minDist = Infinity;
      
      screenNodes.forEach(node => {
        const dist = Math.sqrt(Math.pow(node.x - x, 2) + Math.pow(node.y - y, 2));
        const size = Math.max(12, Math.sqrt(node.inflow + node.outflow) / 2500) * scale * 2;
        if (dist < size && dist < minDist) {
          minDist = dist;
          clicked = node;
        }
      });
      
      if (clicked) showNodeInfo(clicked);
      else document.getElementById('info-panel').classList.remove('visible');
    });
    
    function showNodeInfo(node) {
      const panel = document.getElementById('info-panel');
      panel.classList.add('visible');
      
      document.getElementById('info-icon').textContent = node.icon;
      document.getElementById('info-icon').style.background = node.color;
      document.getElementById('info-name').textContent = node.name;
      document.getElementById('info-type').textContent = `${node.role} â€¢ ${node.label}`;
      document.getElementById('info-location').textContent = `ğŸ“ ${node.location}`;
      document.getElementById('info-inflow').textContent = formatMoney(node.inflow);
      document.getElementById('info-outflow').textContent = formatMoney(node.outflow);
      
      const timeCost = node.timeHours * node.hourlyValue;
      document.getElementById('info-time').textContent = '-' + formatMoney(timeCost);
      document.getElementById('info-synergy').textContent = (node.synergy >= 0 ? '+' : '') + formatMoney(node.synergy);
      
      const totalValue = node.inflow - node.outflow - timeCost + node.synergy;
      document.getElementById('info-value').textContent = formatMoney(totalValue);
      
      document.getElementById('info-desc').textContent = node.description;
      
      const statusEl = document.getElementById('info-status');
      if (node.status === 'optimal') {
        statusEl.className = 'info-status status-optimal';
        statusEl.textContent = 'âœ… OPTIMAL - ëˆ íë¦„ ìµœì ';
      } else if (node.status === 'warning') {
        statusEl.className = 'info-status status-warning';
        statusEl.textContent = 'âš ï¸ WARNING - ì£¼ì˜ í•„ìš”';
      } else if (node.status === 'bottleneck') {
        statusEl.className = 'info-status status-bottleneck';
        statusEl.textContent = 'ğŸš¨ BOTTLENECK - ëˆ ë³‘ëª©!';
      } else if (node.status === 'prediction') {
        statusEl.className = 'info-status status-prediction';
        statusEl.textContent = 'â­ PREDICTION - ì˜ˆì¸¡: ' + formatMoney(node.forecast);
      }
    }
    
    // ì»¨íŠ¸ë¡¤ ë²„íŠ¼
    document.getElementById('btn-korea').addEventListener('click', () => {
      scale = 3;
      offsetX = -width * 0.6;
      offsetY = -height * 0.3;
      updateScreenPositions();
      initParticles();
    });
    
    document.getElementById('btn-asia').addEventListener('click', () => {
      scale = 1.5;
      offsetX = -width * 0.3;
      offsetY = -height * 0.1;
      updateScreenPositions();
      initParticles();
    });
    
    document.getElementById('btn-world').addEventListener('click', () => {
      scale = 1;
      offsetX = 0;
      offsetY = 0;
      updateScreenPositions();
      initParticles();
    });
    
    document.getElementById('btn-animate').addEventListener('click', function() {
      isAnimating = !isAnimating;
      this.classList.toggle('active', isAnimating);
      this.textContent = isAnimating ? 'âœ¨ ë³„ë˜¥ë³„' : 'âœ¨ ì •ì§€';
    });
    
    document.getElementById('btn-bottleneck').addEventListener('click', function() {
      showBottlenecks = !showBottlenecks;
      this.classList.toggle('active', showBottlenecks);
      this.textContent = showBottlenecks ? 'âš ï¸ ë³‘ëª©' : 'âš ï¸ ìˆ¨ê¹€';
    });
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // ìœ í‹¸ë¦¬í‹°
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    function formatMoney(value) {
      if (Math.abs(value) >= 100000000) return 'â‚©' + (value / 100000000).toFixed(2) + 'ì–µ';
      if (Math.abs(value) >= 10000) return 'â‚©' + Math.round(value / 10000).toLocaleString() + 'ë§Œ';
      return 'â‚©' + value.toLocaleString();
    }
    
    console.log('ğŸŒŒ AUTUS Physics Map - ê¸€ë¡œë²Œ êµìœ¡ ì‚¬ì—… initialized');
    console.log('ğŸ“Š Nodes:', nodes.length);
    console.log('ğŸ’° Flows:', flows.length);
  </script>
</body>
</html>
